/*!
 * mdl-components-ext - Component Extensions for the Material Design Light in CSS, JS and HTML
 * @version   1.7.1
 * @author    Gabor Ivan <gixx@gixx-web.com>
 * @copyright 2012 - 2017 Gixx-web (http://www.gixx-web.com)
 * @license   https://opensource.org/licenses/MIT The MIT License (MIT)
 * @link      http://www.gixx-web.com
 */
if("undefined"==typeof componentHandler)throw new ReferenceError("You must include the Material Design Lite library first!");var componentRegister={idCounter:1,registry:{},setComponentElement:function(t,e){t.hasAttribute("id")||t.setAttribute("id","generated-identifier-"+this.idCounter++);var s=t.getAttribute("id");this.registry[s]={element:t,component:e}},getComponentById:function(t){if(void 0!==this.registry[t])return this.registry[t].component;throw new ReferenceError('The element with id "'+t+'" is not a registered MDL component.')}};document.addEventListener("mdl-componentupgraded",function(t){for(var e=t.target,s=e.getAttribute("data-upgraded").split(","),a=null,l=0;l<s.length;l++)if(void 0!==t.target[s[l]]){a=t.target[s[l]];break}componentRegister.setComponentElement(e,a)},!0),function(){"use strict";var t=function(t){this.element_=t,this.GrAvatarSecured_="https:"===window.location.protocol,this.FormInputElementName_="",this.DefaultImage_="",this.GalleryPath_="",this.Gallery_=[],this.AvatarType_="gallery",this.AppliedAvatarType_="gallery",this.I18n_={gallery:{name:"Gallery",icon:"image"},gravatar:{name:"GR Avatar",icon:"assignment_ind"},url:{name:"URL",icon:"language"},upload:{name:"Upload",icon:"file_upload"}},this.init()};window.MaterialAvatar=t,t.prototype.CssClasses_={IS_UPGRADED:"is-upgraded",IS_FOCUSED:"is-focused",IS_CHECKED:"is-checked",IS_SELECTED:"is-selected",IS_SHOW:"is-show",IS_ACTIVE:"is-active",IS_INVALID:"is-invalid",IS_DIRTY:"is-dirty",JS_AVATAR:"mdl-js-avatar",RADIO_BTN:"mdl-radio__button",AVATAR_OVERLAY:"mdl-avatar-overlay",AVATAR_LABEL:"mdl-avatar__label",AVATAR__LIST_LABEL:"mdl-avatar-list__label",AVATAR_INPUT:"mdl-avatar__input",AVATAR_IMAGE:"mdl-avatar__image",AVATAR_APPLY:"mdl-avatar__apply",AVATAR_CANCEL:"mdl-avatar__cancel",AVATAR_TYPE:"mdl-avatar__type",AVATAR_FILE:"mdl-avatar__file",TEXTFIELD_LABEL:"mdl-textfield__label",TEXTFIELD_FLOATING:"mdl-textfield--floating-label",TEXTFIELD_INPUT:"mdl-textfield__input",TEXTFIELD_ERROR:"mdl-textfield__error",BUTTON_AVATAR_JS:"mdl-js-button",MATERIAL_ICONS:"material-icons"},t.prototype.GrAvatarSecured_=!1,t.prototype.OverlayCloseEvent_="overlayCloseEvent",t.prototype.FormInputElementName_="",t.prototype.DefaultImage_="",t.prototype.GalleryPath_="",t.prototype.Gallery_=[],t.prototype.AvatarType_="gallery",t.prototype.AppliedAvatarType_="gallery",t.prototype.I18n_={gallery:{name:"Gallery",icon:"image"},gravatar:{name:"GR Avatar",icon:"assignment_ind"},url:{name:"URL",icon:"language"},upload:{name:"Upload",icon:"file_upload"}},t.prototype.dataPattern_={email:"[a-z0-9]([a-z0-9\\.\\-]*[a-z0-9])@[a-z0-9]([a-z0-9\\.\\-]*[a-z0-9])\\.[a-z]{2,4}",url:"https?:\\/\\/[a-z0-9]([a-z0-9\\.\\-]*[a-z0-9\\.\\-])?\\.[a-z]{2,4}\\/?[a-zA-Z0-9\\.\\/?\\-_#%&@=+]*\\.(jpg|jpeg|gif|png|svg)"},t.prototype.md5=function(t){var e=function(t,e){return t+e&4294967295},s=function(t,s){var a=t[0],o=t[1],_=t[2],d=t[3];a=l(a,o,_,d,s[0],7,-680876936),d=l(d,a,o,_,s[1],12,-389564586),_=l(_,d,a,o,s[2],17,606105819),o=l(o,_,d,a,s[3],22,-1044525330),a=l(a,o,_,d,s[4],7,-176418897),d=l(d,a,o,_,s[5],12,1200080426),_=l(_,d,a,o,s[6],17,-1473231341),o=l(o,_,d,a,s[7],22,-45705983),a=l(a,o,_,d,s[8],7,1770035416),d=l(d,a,o,_,s[9],12,-1958414417),_=l(_,d,a,o,s[10],17,-42063),o=l(o,_,d,a,s[11],22,-1990404162),a=l(a,o,_,d,s[12],7,1804603682),d=l(d,a,o,_,s[13],12,-40341101),_=l(_,d,a,o,s[14],17,-1502002290),o=l(o,_,d,a,s[15],22,1236535329),a=i(a,o,_,d,s[1],5,-165796510),d=i(d,a,o,_,s[6],9,-1069501632),_=i(_,d,a,o,s[11],14,643717713),o=i(o,_,d,a,s[0],20,-373897302),a=i(a,o,_,d,s[5],5,-701558691),d=i(d,a,o,_,s[10],9,38016083),_=i(_,d,a,o,s[15],14,-660478335),o=i(o,_,d,a,s[4],20,-405537848),a=i(a,o,_,d,s[9],5,568446438),d=i(d,a,o,_,s[14],9,-1019803690),_=i(_,d,a,o,s[3],14,-187363961),o=i(o,_,d,a,s[8],20,1163531501),a=i(a,o,_,d,s[13],5,-1444681467),d=i(d,a,o,_,s[2],9,-51403784),_=i(_,d,a,o,s[7],14,1735328473),o=i(o,_,d,a,s[12],20,-1926607734),a=r(a,o,_,d,s[5],4,-378558),d=r(d,a,o,_,s[8],11,-2022574463),_=r(_,d,a,o,s[11],16,1839030562),o=r(o,_,d,a,s[14],23,-35309556),a=r(a,o,_,d,s[1],4,-1530992060),d=r(d,a,o,_,s[4],11,1272893353),_=r(_,d,a,o,s[7],16,-155497632),o=r(o,_,d,a,s[10],23,-1094730640),a=r(a,o,_,d,s[13],4,681279174),d=r(d,a,o,_,s[0],11,-358537222),_=r(_,d,a,o,s[3],16,-722521979),o=r(o,_,d,a,s[6],23,76029189),a=r(a,o,_,d,s[9],4,-640364487),d=r(d,a,o,_,s[12],11,-421815835),_=r(_,d,a,o,s[15],16,530742520),o=r(o,_,d,a,s[2],23,-995338651),a=n(a,o,_,d,s[0],6,-198630844),d=n(d,a,o,_,s[7],10,1126891415),_=n(_,d,a,o,s[14],15,-1416354905),o=n(o,_,d,a,s[5],21,-57434055),a=n(a,o,_,d,s[12],6,1700485571),d=n(d,a,o,_,s[3],10,-1894986606),_=n(_,d,a,o,s[10],15,-1051523),o=n(o,_,d,a,s[1],21,-2054922799),a=n(a,o,_,d,s[8],6,1873313359),d=n(d,a,o,_,s[15],10,-30611744),_=n(_,d,a,o,s[6],15,-1560198380),o=n(o,_,d,a,s[13],21,1309151649),a=n(a,o,_,d,s[4],6,-145523070),d=n(d,a,o,_,s[11],10,-1120210379),_=n(_,d,a,o,s[2],15,718787259),o=n(o,_,d,a,s[9],21,-343485551),t[0]=e(a,t[0]),t[1]=e(o,t[1]),t[2]=e(_,t[2]),t[3]=e(d,t[3])},a=function(t,s,a,l,i,r){return s=e(e(s,t),e(l,r)),e(s<<i|s>>>32-i,a)},l=function(t,e,s,l,i,r,n){return a(e&s|~e&l,t,e,i,r,n)},i=function(t,e,s,l,i,r,n){return a(e&l|s&~l,t,e,i,r,n)},r=function(t,e,s,l,i,r,n){return a(e^s^l,t,e,i,r,n)},n=function(t,e,s,l,i,r,n){return a(s^(e|~l),t,e,i,r,n)},o=function(t){var e,a=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)s(l,_(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(s(l,i),e=0;e<16;e++)i[e]=0;return i[14]=8*a,s(l,i),l},_=function(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return s},d="0123456789abcdef".split(""),u=function(t){for(var e="",s=0;s<4;s++)e+=d[t>>8*s+4&15]+d[t>>8*s&15];return e},h=function(t){for(var e=0;e<t.length;e++)t[e]=u(t[e]);return t.join("")};return"5d41402abc4b2a76b9719d911017c592"!=h(o("hello"))&&(e=function(t,e){var s=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(s>>16)<<16|65535&s}),h(o(t))},t.prototype.isWithinElement_=function(t,e){if(void 0!==t.path)return~t.path.indexOf(e);if(t.target==e)return!0;for(var s=t.target.parentNode;s;){if(s==e)return!0;s=s.parentNode}return!1},t.prototype.isStringEndsWith_=function(t,e){try{return t.endsWith(e)}catch(l){var s=t.length,a=e.length;return t==t.substring(0,s-a)+e}},t.prototype.getFieldNameVariant_=function(t,e){var s="",a="";return(s="string"==typeof t?t:t.getAttribute("name"))?a=this.isStringEndsWith_(s,"]")?s.substr(0,s.length-1)+"-"+e+"]":s+"-"+e:console.warn("No name defined"),a},t.prototype.clickEventHandler_=function(t){if(this.isWithinElement_(t,this.element_)){var e=t.target;e.classList.contains(this.CssClasses_.AVATAR_OVERLAY)?this.openOverlay_(t):e.classList.contains(this.CssClasses_.RADIO_BTN)?this.openStepTwo_(t):e.classList.contains(this.CssClasses_.AVATAR_APPLY)?this.applyChange_(t):e.classList.contains(this.CssClasses_.AVATAR_CANCEL)&&this.resetOverlay_(t)}else this.resetOverlay_(t)},t.prototype.openOverlay_=function(t){var e=t.target;e.classList.contains(this.CssClasses_.AVATAR_OVERLAY)&&!e.classList.contains(this.CssClasses_.IS_SHOW)&&(e.querySelector(".select").classList.add(this.CssClasses_.IS_ACTIVE),e.classList.add(this.CssClasses_.IS_SHOW))},t.prototype.openStepTwo_=function(t){var e=this.element_.querySelector("."+this.CssClasses_.AVATAR_OVERLAY);if(e.classList.contains(this.CssClasses_.IS_SHOW)){e.querySelector(".select").classList.remove(this.CssClasses_.IS_ACTIVE);var s=t.target.value,a=e.querySelector("."+s);if(a){this.AvatarType_=s;var l=this.element_.querySelector("input[type=hidden]");l&&(l.value=s),a.classList.add(this.CssClasses_.IS_ACTIVE)}}},t.prototype.applyChange_=function(t){t.preventDefault();var e=!1;switch(this.AvatarType_){case"gallery":e=this.applyGalleryChange_(t);break;case"gravatar":e=this.applyGravatarChange_(t);break;case"url":e=this.applyUrlChange_(t);break;case"upload":e=this.applyUploadChange_(t)}if(e){this.AppliedAvatarType_=this.AvatarType_;try{var s=new Event(this.OverlayCloseEvent_);document.dispatchEvent(s)}catch(t){document.body.click()}}},t.prototype.applyGalleryChange_=function(t){if(this.element_.querySelector("."+this.CssClasses_.AVATAR_OVERLAY).classList.contains(this.CssClasses_.IS_SHOW)){this.DefaultImage_=t.target.src,this.element_.querySelector("."+this.CssClasses_.AVATAR_INPUT).value=this.DefaultImage_,this.element_.querySelector("."+this.CssClasses_.AVATAR_IMAGE).src=this.DefaultImage_;for(var e=this.element_.querySelectorAll(".gallery img."+this.CssClasses_.AVATAR_APPLY),s=0,a=e.length;s<a;s++)e[s].classList.contains(this.CssClasses_.IS_SELECTED)&&e[s].classList.remove(this.CssClasses_.IS_SELECTED),e[s].src==this.DefaultImage_&&e[s].classList.add(this.CssClasses_.IS_SELECTED)}return!0},t.prototype.applyGravatarChange_=function(t){var e=this.element_.querySelector("."+this.CssClasses_.AVATAR_OVERLAY);if(e.classList.contains(this.CssClasses_.IS_SHOW)){var s=e.querySelector(".gravatar ."+this.CssClasses_.TEXTFIELD_INPUT),a=void 0!==s.willValidate;if(!(!a||s.checkValidity())){if(a){var l=e.querySelector(".gravatar ."+this.CssClasses_.TEXTFIELD_ERROR);l&&(l.innerHTML=s.validationMessage)}return!1}t.preventDefault();var i=(this.GrAvatarSecured_?"https://secure.gravatar.com/avatar/":"http://www.gravatar.com/avatar/")+this.md5(s.value)+"?r=g&d="+encodeURIComponent("")+"&size=256",r=this.element_.querySelector("."+this.CssClasses_.AVATAR_IMAGE),n=this.element_.querySelector("."+this.CssClasses_.AVATAR_INPUT),o=this,_=new Image;_.onload=function(){o.DefaultImage_=i,r.src=i,n.value=i};try{_.src=i}catch(t){}}return!0},t.prototype.applyUrlChange_=function(t){var e=this.element_.querySelector("."+this.CssClasses_.AVATAR_OVERLAY);if(e.classList.contains(this.CssClasses_.IS_SHOW)){var s=e.querySelector(".url ."+this.CssClasses_.TEXTFIELD_INPUT),a=void 0!==s.willValidate;if(!(!a||s.checkValidity())){if(a){var l=e.querySelector(".url ."+this.CssClasses_.TEXTFIELD_ERROR);l&&(l.innerHTML=s.validationMessage)}return!1}t.preventDefault();var i=s.value,r=this.element_.querySelector("."+this.CssClasses_.AVATAR_IMAGE),n=this.element_.querySelector("."+this.CssClasses_.AVATAR_INPUT),o=this,_=new Image;_.onload=function(){o.DefaultImage_=i,r.src=i,n.value=i};try{_.src=s.value}catch(t){}}return!0},t.prototype.applyUploadChange_=function(t){if(this.element_.querySelector("."+this.CssClasses_.AVATAR_OVERLAY).classList.contains(this.CssClasses_.IS_SHOW)){t.preventDefault();try{var e=this.element_.querySelector("."+this.CssClasses_.AVATAR_IMAGE),s=this.element_.querySelector("."+this.CssClasses_.AVATAR_INPUT),a=this.element_.querySelector(".upload input[type=file]").files[0],l=new FileReader,i=this;l.onload=function(){i.DefaultImage_=l.result,e.src=l.result,s.value=a.name},a&&l.readAsDataURL(a)}catch(t){}}return!0},t.prototype.resetOverlay_=function(t){var e=this.element_.querySelector("."+this.CssClasses_.AVATAR_OVERLAY);if(e.classList.contains(this.CssClasses_.IS_SHOW)){if(this.isWithinElement_(t,e)&&!t.target.classList.contains(this.CssClasses_.AVATAR_CANCEL))return!0;if(t.preventDefault(),this.element_.querySelector("input."+this.CssClasses_.AVATAR_INPUT).value=this.DefaultImage_,this.element_.querySelector("img."+this.CssClasses_.AVATAR_IMAGE).src=this.DefaultImage_,this.AvatarType_!=this.AppliedAvatarType_){var s=this.element_.querySelector("input[type=hidden]");s&&(s.value=this.AppliedAvatarType_),this.AvatarType_=this.AppliedAvatarType_}var a=e.querySelector(".select ."+this.CssClasses_.IS_CHECKED);a&&(a.querySelector("input").checked=!1,a.classList.remove(this.CssClasses_.IS_CHECKED));var l=e.querySelector(".gravatar input."+this.CssClasses_.TEXTFIELD_INPUT);l&&(l.value="",l.parentNode.classList.remove(this.CssClasses_.IS_FOCUSED),l.parentNode.classList.remove(this.CssClasses_.IS_DIRTY),l.parentNode.classList.remove(this.CssClasses_.IS_INVALID));var i=e.querySelector(".url input."+this.CssClasses_.TEXTFIELD_INPUT);i&&(i.value="",i.parentNode.classList.remove(this.CssClasses_.IS_FOCUSED),i.parentNode.classList.remove(this.CssClasses_.IS_DIRTY),i.parentNode.classList.remove(this.CssClasses_.IS_INVALID));var r=e.querySelector("."+this.CssClasses_.IS_ACTIVE);r&&r.classList.remove(this.CssClasses_.IS_ACTIVE),e.classList.remove(this.CssClasses_.IS_SHOW)}},t.prototype.init=function(){if(this.element_){var t=this.element_.querySelector("."+this.CssClasses_.AVATAR_INPUT),e=t.parentNode;if(this.FormInputElementName_=t.getAttribute("name"),this.DefaultImage_=t.value,t.hasAttribute("data-i18n-gallery")&&(this.I18n_.gallery.name=t.getAttribute("data-i18n-gallery")),t.hasAttribute("data-i18n-gravatar")&&(this.I18n_.gravatar.name=t.getAttribute("data-i18n-gravatar")),t.hasAttribute("data-i18n-url")&&(this.I18n_.url.name=t.getAttribute("data-i18n-url")),t.hasAttribute("data-i18n-upload")&&(this.I18n_.upload.name=t.getAttribute("data-i18n-upload")),this.Gallery_.push(this.DefaultImage_),t.hasAttribute("data-gallery-src")&&(this.GalleryPath_=t.getAttribute("data-gallery-src"),this.isStringEndsWith_(this.GalleryPath_,"/")||(this.GalleryPath_+="/")),t.hasAttribute("data-gallery-list"))for(var s=t.getAttribute("data-gallery-list").split(","),a=0,l=s.length;a<l;a++){var i=s[a];""!=this.GalleryPath_&&0!==i.indexOf("/")&&(i=this.GalleryPath_+i),this.Gallery_.push(i)}var r=this.element_.querySelector("."+this.CssClasses_.AVATAR_TYPE);r||((r=document.createElement("input")).setAttribute("type","hidden"),r.setAttribute("name",this.getFieldNameVariant_(this.FormInputElementName_,"type")),r.classList.add(this.CssClasses_.AVATAR_TYPE),r.value="gallery",this.element_.appendChild(r));var n=this.getFieldNameVariant_(this.FormInputElementName_,"file"),o=this.element_.querySelector("input[type=file]");o&&(n=o.getAttribute("name"),o.parentNode.removeChild(o));var _=document.createElement("img");_.src=this.DefaultImage_,_.classList.add(this.CssClasses_.AVATAR_IMAGE),this.element_.appendChild(_);var d=document.createElement("div");d.classList.add(this.CssClasses_.AVATAR_OVERLAY);var u='<div class="select"><ul class="mdl-list">';for(var a in this.I18n_)u+='<li class="mdl-list__item"><span class="mdl-list__item-primary-content"><i class="material-icons  mdl-list__item-avatar">'+this.I18n_[a].icon+'</i><label class="mdl-avatar-list__label" for="'+this.getFieldNameVariant_(this.FormInputElementName_,"type-"+a)+'">'+this.I18n_[a].name+'</label></span><span class="mdl-list__item-secondary-action"><label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="'+this.getFieldNameVariant_(this.FormInputElementName_,"type-"+a)+'"><input type="radio" id="'+this.getFieldNameVariant_(this.FormInputElementName_,"type-"+a)+'" class="mdl-radio__button" name="'+this.getFieldNameVariant_(this.FormInputElementName_,"type")+'" value="'+a+'" /></label></span></li>';u+="</ul></div>";for(var h='<div class="gallery">',a=0,l=this.Gallery_.length;a<l;a++)h+='<img src="'+this.Gallery_[a]+'" class="mdl-avatar__apply'+(this.Gallery_[a]==this.DefaultImage_?" "+this.CssClasses_.IS_SELECTED:"")+'">';h+="</div>";var c='<div class="gravatar"><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><input class="mdl-textfield__input" type="email" pattern="'+this.dataPattern_.email+'" placeholder="bar@foo.org" value=""><label class="mdl-textfield__label">'+this.I18n_.gravatar.name+'</label><span class="mdl-textfield__error"></span></div><button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab '+this.CssClasses_.AVATAR_APPLY+'"><i class="material-icons '+this.CssClasses_.AVATAR_APPLY+'">done</i></button><button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored '+this.CssClasses_.AVATAR_CANCEL+'"><i class="material-icons '+this.CssClasses_.AVATAR_CANCEL+'">delete_forever</i></button></div>',m='<div class="url"><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><input class="mdl-textfield__input" type="url" pattern="'+this.dataPattern_.url+'" placeholder="http://www.foo.org/bar.jpg" value=""><label class="mdl-textfield__label">'+this.I18n_.url.name+'</label><span class="mdl-textfield__error"></span></div><button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab '+this.CssClasses_.AVATAR_APPLY+'"><i class="material-icons '+this.CssClasses_.AVATAR_APPLY+'">done</i></button><button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored '+this.CssClasses_.AVATAR_CANCEL+'"><i class="material-icons '+this.CssClasses_.AVATAR_CANCEL+'">delete_forever</i></button></div>',p='<div class="upload"><div class="mdl-file mdl-js-file mdl-file--floating-label"><input type="file" name="'+n+'" id="'+n+'" accept=".jpg,.png,.gif,.svg"><label class="mdl-file__label" for="'+n+'">'+this.I18n_.upload.name+'</label></div><button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab '+this.CssClasses_.AVATAR_APPLY+'"><i class="material-icons '+this.CssClasses_.AVATAR_APPLY+'">done</i></button><button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored '+this.CssClasses_.AVATAR_CANCEL+'"><i class="material-icons '+this.CssClasses_.AVATAR_CANCEL+'">delete_forever</i></button></div>';d.innerHTML=u+h+c+m+p,this.element_.appendChild(d),e.querySelector("."+this.CssClasses_.AVATAR_LABEL).classList.add(this.CssClasses_.TEXTFIELD_LABEL),e.classList.add(this.CssClasses_.IS_FOCUSED),e.classList.add(this.CssClasses_.TEXTFIELD_FLOATING),componentHandler.upgradeDom(),document.addEventListener("click",this.clickEventHandler_.bind(this)),document.addEventListener(this.OverlayCloseEvent_,this.resetOverlay_.bind(this))}},componentHandler.register({constructor:t,classAsString:"MaterialAvatar",cssClass:"mdl-js-avatar",widget:!0})}(),function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialFile=t,t.prototype.CssClasses_={IS_UPGRADED:"is-upgraded",JS_FILE:"mdl-js-file",JS_TEXTFIELD:"mdl-js-textfield",FILE_FLOATING:"mdl-file--floating-label",FILE_LABEL:"mdl-file__label",TEXTFIELD:"mdl-textfield",TEXTFIELD_LABEL:"mdl-textfield__label",TEXTFIELD_FLOATING:"mdl-textfield--floating-label",TEXTFIELD_INPUT:"mdl-textfield__input",BUTTON:"mdl-button",BUTTON_PRIMARY:"mdl-button--primary",BUTTON_ICON:"mdl-button--icon",MATERIAL_ICONS:"material-icons"},t.prototype.multipleFilesSelected_="files are selected",t.prototype.fileID_=null,t.prototype.fileNameID_=null,t.prototype.isStringEndsWith_=function(t,e){try{return t.endsWith(e)}catch(l){var s=t.length,a=e.length;return t===t.substring(0,s-a)+e}},t.prototype.getFieldNameVariant_=function(t,e){var s="",a="";return(s="string"==typeof t?t:t.getAttribute("name"))?a=this.isStringEndsWith_(s,"]")?s.substr(0,s.length-1)+"-"+e+"]":s+"-"+e:console.warn("No name defined"),a},t.prototype.focusInput_=function(){this.element_.classList.contains("is-focused")||(this.element_.querySelector("input[type=text]").focus(),this.element_.classList.add("is-focused"))},t.prototype.blurInput_=function(){this.element_.classList.contains("is-focused")&&this.element_.classList.remove("is-focused")},t.prototype.resetInput_=function(){this.element_.querySelector("input[type=text]").setAttribute("value",""),this.element_.querySelector("input[type=text]").blur(),this.element_.querySelector("input[type=file]").value=null,this.element_.querySelector("input[type=file]").setAttribute("value",null),this.blurInput_()},t.prototype.inputChange_=function(t){t.preventDefault();var e=t.target,s=this.fileNameID_.replace(/([^a-zA-Z0-9])/g,"\\$1")+"",a=this.element_.querySelector("#"+s),l=e.files.length;if(!this.element_.classList.contains("is-focused")&&!this.element_.classList.contains("is-dirty"))try{var i=new Event("focus");a.dispatchEvent(i)}catch(t){a.click()}if(l>0&&void 0!==e.files[0].name){if(1===l)a.setAttribute("value",e.files[0].name);else{var r=this.element_.hasAttribute("data-placeholder-multiple")?this.element_.getAttribute("data-placeholder-multiple"):this.multipleFilesSelected_;a.setAttribute("value",l+" "+r)}a.parentNode.classList.add("is-dirty")}else a.setAttribute("value",""),a.parentNode.classList.remove("is-dirty")},t.prototype.init=function(){if(this.element_){var t=this.element_.querySelector("input[type=file]");this.fileID_=t.getAttribute("id"),this.fileNameID_=this.getFieldNameVariant_(this.fileID_,"filename"),this.element_.classList.contains(this.CssClasses_.TEXTFIELD)||this.element_.classList.add(this.CssClasses_.TEXTFIELD),this.element_.classList.contains(this.CssClasses_.JS_TEXTFIELD)||this.element_.classList.add(this.CssClasses_.JS_TEXTFIELD),this.element_.classList.contains(this.CssClasses_.FILE_FLOATING)&&(this.element_.classList.remove(this.CssClasses_.FILE_FLOATING),this.element_.classList.add(this.CssClasses_.TEXTFIELD_FLOATING));var e=this.element_.querySelector("label");e.classList.remove(this.CssClasses_.FILE_LABEL),e.classList.add(this.CssClasses_.TEXTFIELD_LABEL),e.setAttribute("for",this.fileNameID_);var s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("id",this.fileNameID_),s.setAttribute("name",this.fileNameID_),s.setAttribute("readonly","readonly"),s.classList.add(this.CssClasses_.TEXTFIELD_INPUT),this.element_.insertBefore(s,e);var a=document.createElement("div");a.classList.add(this.CssClasses_.BUTTON),a.classList.add(this.CssClasses_.BUTTON_PRIMARY),a.classList.add(this.CssClasses_.BUTTON_ICON),this.element_.appendChild(a);var l=document.createElement("i");l.classList.add(this.CssClasses_.MATERIAL_ICONS),a.appendChild(l);var i=document.createTextNode("attach_file");l.appendChild(i);var r=t.cloneNode(!0);r.className="",a.appendChild(r),t.parentNode.removeChild(t),r.addEventListener("change",this.inputChange_.bind(this)),this.element_.querySelector(".mdl-button").addEventListener("click",this.focusInput_.bind(this)),this.element_.closest("form").addEventListener("reset",this.resetInput_.bind(this)),componentHandler.upgradeDom(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},componentHandler.register({constructor:t,classAsString:"MaterialFile",cssClass:"mdl-js-file",widget:!0})}(),function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialKeyvaluelist=t,t.prototype.CssClasses_={IS_UPGRADED:"is-upgraded",JS_KVL:"mdl-js-kvl",KVL_SOCIALNETS:"mdl-kvl-socialnetworks",KVL_MESSENGERS:"mdl-kvl-instantmessengers",KVL_PHONES:"mdl-kvl-phones",KVL_LABEL:"mdl-kvl__label",IS_FOCUSED:"is-focused",TEXTFIELD_LABEL:"mdl-textfield__label",TEXTFIELD_FLOATING:"mdl-textfield--floating-label",BUTTON_KVL_ADD:"mdl-kvl__list-add",BUTTON_KVL:"mdl-button",BUTTON_KVL_JS:"mdl-js-button",BUTTON_KVL_ICON:"mdl-button--icon",BUTTON_KVL_COLORED:"mdl-button--colored",MATERIAL_ICONS:"material-icons"},t.prototype.dataTypes_={KLV_TYPE_TEXT:"text",KVL_TYPE_EMAIL:"email",KVL_TYPE_URL:"url",KVL_TYPE_TEL:"tel"},t.prototype.dataPattern_={text:".+",email:"[a-z0-9\\.\\_\\%\\+\\-]+\\@[a-z0-9]([a-z0-9\\.\\-]*[a-z0-9\\.\\-])?\\.[a-z]{2,4}",url:"https?\\:\\/\\/[a-z0-9]([a-z0-9\\.\\-]*[a-z0-9\\.\\-])?\\.[a-z]{2,4}\\/?[a-zA-Z0-9\\.\\/\\?\\-\\_\\#\\%\\&\\@\\=\\+]*",tel:"((\\+[0-9]{2}|0[0-9]{1,4})[- ]?)?(\\([0-9]{1,3}\\)|[0-9]{1,3})[- \\/]?[0-9]{3,4}[- ]?[0-9]{3,4}"},t.prototype.listID_=null,t.prototype.listDataType_="text",t.prototype.useListDataPattern_=!1,t.prototype.listDataPattern_="",t.prototype.listDataValuePlaceholder_="",t.prototype.listDataKeyPlaceholder_="",t.prototype.addButton_={},t.prototype.storedValue_={},t.prototype.keyValueList_={},t.prototype.Services_={"mdl-kvl-socialnetworks":["Bebo","Facebook","Flickr","Google+","Habbo","Instagram","LinkedIn","Orkut","Qzone","Sina Weibo","Tagged","Tumblr","Twitter","VK","Xing"],"mdl-kvl-instantmessengers":["Aim","AOL On","Ch@t On","Facebook Messenger","FaceTime","Google Hangouts","ICQ","imo","Kakao Talk","line","QQ","Skype","Snapchat","Viber","WeChat","WhatsApp"],"mdl-kvl-phones":["Mobile","Home","Work","Work Fax","Home Fax","Pager","Other","Custom","Callback"]},t.prototype.addRow_=function(t){t.preventDefault(),this.createRow_("","")},t.prototype.createRow_=function(t,e){var s=this.keyValueList_.childNodes.length,a=this.listID_+"-list-element-"+s,l=document.createElement("li");l.classList.add("mdl-kvl__list-element"),l.setAttribute("id",a),l.innerHTML='<div class="mdl-kvl__list-key mdl-textfield mdl-js-textfield">   <input required list="mld-kvl-data-'+this.listID_+'" id="'+this.listID_+"-key-"+s+'" data-value="'+this.listID_+"-value-"+s+'" type="text" class="mdl-textfield__input mdl-kvl__list-element-key" name="'+this.listID_+"-key["+s+']" value="'+t+'" pattern=".+" />   <label class="mdl-textfield__label" for="'+this.listID_+"-key-"+s+'">'+this.listDataKeyPlaceholder_+'</label></div><div class="mdl-kvl__list-value mdl-textfield mdl-js-textfield">   <input required id="'+this.listID_+"-value-"+s+'" data-key="'+this.listID_+"-key-"+s+'" type="'+this.listDataType_+'" '+(this.useListDataPattern_?' pattern="'+this.listDataPattern_+'"':"")+'class="mdl-textfield__input mdl-kvl__list-element-value" name="'+this.listID_+"-value["+s+']" value="'+e+'" />   <label class="mdl-textfield__label" for="'+this.listID_+"-value-"+s+'">'+this.listDataValuePlaceholder_+'</label>   <span class="mdl-textfield__error">Input is not valid!</span></div><div class="mdl-kvl__list-remove">   <button type="button" id="'+this.listID_+"-delete-"+s+'" class="mdl-button mdl-js-button mdl-button--icon mdl-button--accent">       <i class="material-icons">remove</i>   </button></div>',this.keyValueList_.appendChild(l),componentHandler.upgradeDom(),window.getComputedStyle(l).opacity,document.getElementById(this.listID_+"-key-"+s).addEventListener("change",this.inputChange_.bind(this),!0),document.getElementById(this.listID_+"-value-"+s).addEventListener("keyup",this.inputChange_.bind(this),!0),document.getElementById(this.listID_+"-delete-"+s).addEventListener("click",this.deleteRow_.bind(this),!0),l.classList.add("show")},t.prototype.resetList_=function(){if(this.element_.getElementsByTagName("ul").length>0&&this.element_.removeChild(this.element_.querySelector("ul")),this.keyValueList_=document.createElement("ul"),this.keyValueList_.classList.add("mdl-kvl__list"),this.element_.appendChild(this.keyValueList_),this.storedValue_)for(var t in this.storedValue_)this.storedValue_.hasOwnProperty(t)&&this.createRow_(t,this.storedValue_[t])},t.prototype.deleteRow_=function(t){t.preventDefault();for(var e=this,s=0;s<t.path.length;s++){var a=t.path[s];if("BODY"==a.tagName)break;if("LI"==a.tagName&&a.classList.contains("mdl-kvl__list-element")){if(void 0!==a.parentNode){var l=1e3*parseFloat(window.getComputedStyle(a).transitionDuration);a.classList.remove("show"),setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a),e.inputChange_(t)},l)}break}}},t.prototype.inputChange_=function(t){t.preventDefault();for(var e=this.element_.querySelectorAll(".mdl-kvl__list-element input"),s={},a=0;a<e.length;a++){var l=e[a],i="",r="",n="",o="";l.value.trim()?l.classList.contains("mdl-kvl__list-element-key")?(o=l.getAttribute("data-value"),i=l.value.trim(),r=this.element_.querySelector("#"+o).value.trim()):(n=l.getAttribute("data-key"),i=this.element_.querySelector("#"+n).value.trim(),r=l.value.trim()):l.parentNode.classList.add("is-invalid"),i&&r&&(s[i]=r)}this.storedValue_=s,this.element_.querySelector("textarea").value=JSON.stringify(s)},t.prototype.init=function(){if(this.element_){var t=this.element_.querySelector("textarea"),e=t.parentNode;this.listID_=t.getAttribute("id");var s=document.createElement("div");s.classList.add(this.CssClasses_.KVL_LABEL),s.classList.add(this.CssClasses_.IS_FOCUSED),s.classList.add(this.CssClasses_.TEXTFIELD_FLOATING),e.insertBefore(s,t);for(var a in this.element_.children)if("LABEL"==this.element_.children[a].tagName){var l=this.element_.children[a],i=l.cloneNode(!0);i.classList.remove(),i.classList.add(this.CssClasses_.TEXTFIELD_LABEL),s.appendChild(i),l.remove();break}if(this.addButton_=document.createElement("button"),this.addButton_.setAttribute("type","button"),this.addButton_.classList.add(this.CssClasses_.BUTTON_KVL_ADD),this.addButton_.classList.add(this.CssClasses_.BUTTON_KVL),this.addButton_.classList.add(this.CssClasses_.BUTTON_KVL_JS),this.addButton_.classList.add(this.CssClasses_.BUTTON_KVL_ICON),this.addButton_.classList.add(this.CssClasses_.BUTTON_KVL_COLORED),this.addButton_.innerHTML='<i class="material-icons">add</i>',s.appendChild(this.addButton_),t.hasAttribute("data-key-placeholder")&&(this.listDataKeyPlaceholder_=t.getAttribute("data-key-placeholder")),t.hasAttribute("data-value-placeholder")&&(this.listDataValuePlaceholder_=t.getAttribute("data-value-placeholder")),t.hasAttribute("data-type")){var r=t.getAttribute("data-type");for(var a in this.dataTypes_)if(this.dataTypes_[a]==r){this.listDataType_=this.dataTypes_[a];break}}if(t.hasAttribute("data-pattern")){this.useListDataPattern_=!0;var n=t.getAttribute("data-pattern");""==n&&(n=this.dataPattern_[this.listDataType_]),this.listDataPattern_=n}var o=document.getElementById(this.listID_).value;o&&(this.storedValue_=JSON.parse(o));for(var a in this.Services_)if(this.element_.classList.contains(a)){var _=document.createElement("datalist");_.setAttribute("id","mld-kvl-data-"+this.listID_);for(var d=[],u=0;u<this.Services_[a].length;u++)d[u]=document.createElement("option"),d[u].setAttribute("value",this.Services_[a][u]),_.appendChild(d[u]);this.element_.appendChild(_);break}this.resetList_(),this.addButton_.addEventListener("click",this.addRow_.bind(this)),this.element_.classList.add(this.CssClasses_.IS_UPGRADED)}},componentHandler.register({constructor:t,classAsString:"MaterialKeyvaluelist",cssClass:"mdl-js-kvl",widget:!0})}();